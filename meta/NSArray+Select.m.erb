#import "NSArray+Select.h"

@implementation NSArray(Select)

<% types.each do |target| -%>
<% target_type = "NS#{target}" %>
- (NSArray *) select<%= target %>s:(<%= target %>Predicate)predicate {
  NSMutableArray *result = [NSMutableArray array];

  for (<%= target_type %> *element in self) {
    if (predicate(element)) {
      [result addObject:element];
    }
  }

  return result;
}

<% end -%>
@end